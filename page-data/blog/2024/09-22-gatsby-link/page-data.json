{"componentChunkName":"component---src-templates-{post}-tsx-content-file-path-null","path":"/blog/2024/09-22-gatsby-link/","result":{"data":{"markdownRemark":{"html":"<p>블로그에 구글 애드센스를 넣으면서 발생한 이슈입니다. 구글 애드센스를 적용하기 위해서는 사이트의 소유권을 확인해야 했는데, 다음 중 하나를 택해야 했습니다.</p>\n<ul>\n<li>애드센스 코드 스니펫 삽입</li>\n<li>Ads.txt 스니펫 삽입</li>\n<li>메타태그 삽입</li>\n</ul>\n<p>Ads.txt나 메타태그로 소유권 인증을 하더라도, 이후 광고를 게재하려면 애드센스 코드를 넣을 필요가 있었습니다. 어차피 진행할 거 저는 첫번째 방법을 택했습니다.</p>\n<p><a href=\"https://www.gatsbyjs.com/docs/reference/built-in-components/gatsby-script\">Gatsby Script API</a>를 사용해 스크립트를 넣었습니다. 공식 문서에 Gatsby SSR에 사용하는 예시가 있었으므로, 당연히 SSR에 사용할 수 있다고 생각해 별 생각 없이 넣었습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onRenderBody</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  setHeadComponents<span class=\"token punctuation\">,</span>\n  setHtmlAttributes<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> RenderBodyArgs<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  \n  <span class=\"token comment\">// ...</span>\n\n  <span class=\"token function\">setHeadComponents</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Script</span></span>\n      <span class=\"token attr-name\">async</span>\n      <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=...<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">crossOrigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token punctuation\">/></span></span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>그리고 <strong>사이트를 확인할 수 없습니다</strong>라는 빠꾸를 먹고,</p>","frontmatter":{"title":"Gatsby Script를 SSR에 사용할 수 있을까?","date":"2024-09-22","tags":["Gatsby","Troubleshooting"],"thumbnail":null},"timeToRead":1}},"pageContext":{"id":"16ae1455-d1c0-5628-9ac1-c1264531e508"}},"staticQueryHashes":["1147043159"],"slicesMap":{}}