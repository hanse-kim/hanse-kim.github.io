<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.13.7"/><meta property="og:locale" content="ko_KR" data-gatsby-head="true"/><meta property="og:site_name" content="hanse-kim.dev" data-gatsby-head="true"/><meta property="og:type" content="article" data-gatsby-head="true"/><meta property="og:title" content="Gatsby 블로그 제작 - 디자인 및 컴포넌트 제작 | hanse-kim.dev" data-gatsby-head="true"/><meta property="og:description" content="개발 과정에서 겪은 문제와 그것을 어떻게 해결했는지를 기록하기 위한 블로그입니다." data-gatsby-head="true"/><meta property="og:url" content="https://hanse-kim.github.io/2022/02-19-gatsby-blog-design/" data-gatsby-head="true"/><style data-href="/styles.4464af729e8ddfbbb55d.css" data-identity="gatsby-global-css">/*
! tailwindcss v3.4.10 | MIT License | https://tailwindcss.com
*/*,:after,:before{border:0 solid;box-sizing:border-box}:after,:before{--tw-content:""}:host,html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}@font-face{font-named-instance:"Regular";font-display:swap;font-family:Pretendard;font-style:normal;font-weight:100 900;src:url(/fonts/PretendardVariable.woff2) format("woff2")}*{font-family:Pretendard,sans-serif}html{--tw-bg-opacity:1;background-color:hsl(var(--twc-bg)/var(--twc-bg-opacity,var(--tw-bg-opacity)));font-size:16px}html[data-transition=true],html[data-transition=true] *{transition-duration:.15s!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important}hr{--tw-border-opacity:1;border-color:hsl(var(--twc-border)/var(--twc-border-opacity,var(--tw-border-opacity)))}@media (max-width:1080px){html{font-size:14px}}@media (max-width:640px){html{font-size:12px}}@property --angle{syntax:"<angle>";initial-value:0deg;inherits:false}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0}.-bottom-2{bottom:-.125rem}.left-0{left:0}.left-1\/2{left:50%}.right-0{right:0}.top-0{top:0}.top-1\/2{top:50%}.z-10{z-index:10}.mx-auto{margin-left:auto;margin-right:auto}.-mb-24{margin-bottom:-1.5rem}.-mt-24{margin-top:-1.5rem}.mb-18{margin-bottom:1.125rem}.mb-24{margin-bottom:1.5rem}.mb-36{margin-bottom:2.25rem}.ml-24{margin-left:1.5rem}.mt-12{margin-top:.75rem}.mt-16{margin-top:1rem}.mt-36{margin-top:2.25rem}.mt-48{margin-top:3rem}.mt-8{margin-top:.5rem}.line-clamp-2{-webkit-box-orient:vertical;-webkit-line-clamp:2;display:-webkit-box;overflow:hidden}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-2{height:.125rem}.h-36{height:2.25rem}.h-\[24px\]{height:24px}.h-footer-height{height:6.75rem}.h-full{height:100%}.h-header-height{height:4.5rem}.min-h-\[100vh\]{min-height:100vh}.w-36{width:2.25rem}.w-\[24px\]{width:24px}.w-fit{width:-moz-fit-content;width:fit-content}.w-full{width:100%}.max-w-screen-width{max-width:67.5rem}.flex-shrink-0{flex-shrink:0}.-translate-x-1\/2{--tw-translate-x:-50%}.-translate-x-1\/2,.-translate-y-1\/2{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\/2{--tw-translate-y:-50%}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}.cursor-pointer{cursor:pointer}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.gap-12{gap:.75rem}.gap-18{gap:1.125rem}.gap-20{gap:1.25rem}.gap-24{gap:1.5rem}.gap-4{gap:.25rem}.gap-x-20{-moz-column-gap:1.25rem;column-gap:1.25rem}.gap-y-32{row-gap:2rem}.overflow-hidden{overflow:hidden}.break-all{word-break:break-all}.rounded-16{border-radius:16px}.rounded-4{border-radius:4px}.rounded-8{border-radius:8px}.rounded-full{border-radius:9999px}.border-1{border-width:1px}.border-b-1{border-bottom-width:1px}.border-solid{border-style:solid}.border-border{--tw-border-opacity:1;border-color:hsl(var(--twc-border)/var(--twc-border-opacity,var(--tw-border-opacity)))}.bg-bg{--tw-bg-opacity:1;background-color:hsl(var(--twc-bg)/var(--twc-bg-opacity,var(--tw-bg-opacity)))}.bg-bg-footer{--tw-bg-opacity:1;background-color:hsl(var(--twc-bg-footer)/var(--twc-bg-footer-opacity,var(--tw-bg-opacity)))}.bg-border{--tw-bg-opacity:1;background-color:hsl(var(--twc-border)/var(--twc-border-opacity,var(--tw-bg-opacity)))}.bg-main{--tw-bg-opacity:1;background-color:hsl(var(--twc-main)/var(--twc-main-opacity,var(--tw-bg-opacity)))}.object-cover{-o-object-fit:cover;object-fit:cover}.p-24{padding:1.5rem}.px-20{padding-left:1.25rem;padding-right:1.25rem}.px-24{padding-left:1.5rem;padding-right:1.5rem}.px-32{padding-left:2rem;padding-right:2rem}.px-8{padding-left:.5rem;padding-right:.5rem}.py-32{padding-bottom:2rem;padding-top:2rem}.pb-16{padding-bottom:1rem}.pb-4{padding-bottom:.25rem}.pb-48{padding-bottom:3rem}.pl-24{padding-left:1.5rem}.pt-3{padding-top:.1875rem}.text-14-400{font-size:.875rem;font-weight:400}.text-16-300{font-size:1rem;font-weight:300}.text-16-400{font-size:1rem;font-weight:400}.text-18-300{font-size:1.125rem;font-weight:300}.text-18-400{font-size:1.125rem;font-weight:400}.text-20-400{font-size:1.25rem;font-weight:400}.text-24-400{font-size:1.5rem;font-weight:400}.text-24-800{font-size:1.5rem;font-weight:800}.text-32-700{font-size:2rem;font-weight:700}.text-36-700{font-size:2.25rem;font-weight:700}.text-96-700{font-size:6rem;font-weight:700}.text-main{--tw-text-opacity:1;color:hsl(var(--twc-main)/var(--twc-main-opacity,var(--tw-text-opacity)))}.text-text-footer{--tw-text-opacity:1;color:hsl(var(--twc-text-footer)/var(--twc-text-footer-opacity,var(--tw-text-opacity)))}.text-text-quote{--tw-text-opacity:1;color:hsl(var(--twc-text-quote)/var(--twc-text-quote-opacity,var(--tw-text-opacity)))}.underline{text-decoration-line:underline}.underline-offset-\[0\.2em\]{text-underline-offset:.2em}.opacity-0{opacity:0}.opacity-100{opacity:1}.outline{outline-style:solid}.outline-1{outline-width:1px}.outline-transparent{outline-color:transparent}.drop-shadow-transparent{--tw-drop-shadow:drop-shadow(0 0 0px transparent);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-colors{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-shadow{transition-duration:.15s;transition-property:box-shadow,filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-75{transition-duration:75ms}.light,[data-theme=light]{--twc-main:207.5 100% 42.7%;--twc-text:205.70000000000005 11.9% 11.6%;--twc-text-footer:204.70000000000005 11.9% 28%;--twc-text-quote:206.70000000000005 12% 44.1%;--twc-bg:0 0% 100%;--twc-blur:210 10% 96.1%;--twc-bg-footer:210 10% 96.1%;--twc-border:210 8.7% 91%}.dark,[data-theme=dark]{--twc-main:207.5 81.9% 54.5%;--twc-text:205.70000000000005 28% 95.1%;--twc-text-footer:204.5 23.9% 82%;--twc-text-quote:205.70000000000005 24.5% 72%;--twc-bg:205.70000000000005 11.9% 11.6%;--twc-blur:210 28.9% 17.6%;--twc-bg-footer:210 28.9% 17.6%;--twc-border:210 22.4% 22.7%}html *{--tw-text-opacity:1;color:hsl(var(--twc-text)/var(--twc-text-opacity,var(--tw-text-opacity)))}.after\:block:after{content:var(--tw-content);display:block}.after\:h-\[1px\]:after{content:var(--tw-content);height:1px}.after\:w-full:after{content:var(--tw-content);width:100%}.after\:scale-x-0:after{--tw-scale-x:0;content:var(--tw-content);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.after\:bg-text:after{--tw-bg-opacity:1;background-color:hsl(var(--twc-text)/var(--twc-text-opacity,var(--tw-bg-opacity)));content:var(--tw-content)}.after\:transition-transform:after{content:var(--tw-content);transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.disabled\:cursor-default:disabled{cursor:default}.data-\[loaded\=false\]\:pointer-events-none[data-loaded=false]{pointer-events:none}.data-\[loaded\=false\]\:absolute[data-loaded=false]{position:absolute}.data-\[active\=true\]\:text-text[data-active=true]{--tw-text-opacity:1;color:hsl(var(--twc-text)/var(--twc-text-opacity,var(--tw-text-opacity)))}.data-\[in\=true\]\:opacity-100[data-in=true]{opacity:1}.data-\[loaded\=false\]\:opacity-0[data-loaded=false]{opacity:0}.data-\[active\=true\]\:drop-shadow-text[data-active=true]{--tw-drop-shadow:drop-shadow(0 0 0.5px currentColor);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.after\:data-\[active\=true\]\:scale-x-100[data-active=true]:after{--tw-scale-x:1;content:var(--tw-content);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes dark-mode-icon-out{0%{opacity:1;transform:scale(1) rotate(0deg)}to{opacity:0;transform:scale(0) rotate(-1turn)}}.group[data-animating=true] .group-data-\[animating\=true\]\:data-\[in\=false\]\:animate-dark-mode-icon-out[data-in=false]{animation:dark-mode-icon-out .25s ease-in forwards}@keyframes dark-mode-icon-in{0%{opacity:0;transform:scale(0) rotate(1turn)}to{opacity:1;transform:scale(1) rotate(0deg)}}.group[data-animating=true] .group-data-\[animating\=true\]\:data-\[in\=true\]\:animate-dark-mode-icon-in[data-in=true]{animation:dark-mode-icon-in .25s ease-in forwards}.peer[data-loaded=true]~.peer-data-\[loaded\=true\]\:hidden{display:none}@media (min-width:1081px){@media (min-width:1081px){.desktop\:desktop\:hover\:bg-blur:hover{--tw-bg-opacity:1;background-color:hsl(var(--twc-blur)/var(--twc-blur-opacity,var(--tw-bg-opacity)))}}.desktop\:hover\:bg-main:hover{--tw-bg-opacity:1;background-color:hsl(var(--twc-main)/var(--twc-main-opacity,var(--tw-bg-opacity)))}.desktop\:hover\:text-bg:hover{--tw-text-opacity:1;color:hsl(var(--twc-bg)/var(--twc-bg-opacity,var(--tw-text-opacity)))}.desktop\:hover\:text-text:hover{--tw-text-opacity:1;color:hsl(var(--twc-text)/var(--twc-text-opacity,var(--tw-text-opacity)))}.desktop\:hover\:outline-blur:hover{outline-color:hsl(var(--twc-blur)/var(--twc-blur-opacity,1))}.desktop\:hover\:drop-shadow-post:hover{--tw-drop-shadow:drop-shadow(0 0 2px currentColor)}.desktop\:hover\:drop-shadow-post:hover,.desktop\:hover\:drop-shadow-text:hover{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.desktop\:hover\:drop-shadow-text:hover{--tw-drop-shadow:drop-shadow(0 0 0.5px currentColor)}.desktop\:hover\:after\:scale-x-100:hover:after{--tw-scale-x:1;content:var(--tw-content);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.desktop\:active\:bg-border:active{--tw-bg-opacity:1;background-color:hsl(var(--twc-border)/var(--twc-border-opacity,var(--tw-bg-opacity)))}}@media (max-width:1080px){.tablet\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.tablet\:outline-border{outline-color:hsl(var(--twc-border)/var(--twc-border-opacity,1))}}@media (max-width:640px){.mobile\:flex{display:flex}.mobile\:hidden{display:none}.mobile\:flex-col{flex-direction:column}.mobile\:items-stretch{align-items:stretch}}.\[\&\>svg\]\:text-text>svg{--tw-text-opacity:1;color:hsl(var(--twc-text)/var(--twc-text-opacity,var(--tw-text-opacity)))}.md div:empty,.md p:empty{display:none}.md h1,.md h2{--tw-border-opacity:1;border-bottom-width:1px;border-color:hsl(var(--twc-border)/var(--twc-border-opacity,var(--tw-border-opacity)));border-style:solid;margin-top:.5em}.md h1{font-size:2.25rem}.md h1,.md h2{font-weight:700}.md h2{font-size:1.875rem}.md h3{font-size:1.5rem}.md h3,.md h4{font-weight:700}.md h4{font-size:1.25rem}.md ol,.md ul{padding-left:2rem}.md ol{list-style-type:decimal}.md ul{list-style-type:disc}.md li:not(:first-of-type){margin-top:.875rem}.md blockquote{--tw-border-opacity:1;border-color:hsl(var(--twc-border)/var(--twc-border-opacity,var(--tw-border-opacity)));border-left-color:hsl(var(--twc-main)/var(--twc-main-opacity,var(--tw-border-opacity)));border-style:dashed dashed dashed solid;border-width:1px 1px 1px 4px;display:flex;flex-direction:column;gap:.875rem;padding:1rem}.md blockquote,.md blockquote *{--tw-text-opacity:1;color:hsl(var(--twc-text-quote)/var(--twc-text-quote-opacity,var(--tw-text-opacity)))}.md a{--tw-text-opacity:1;color:hsl(var(--twc-main)/var(--twc-main-opacity,var(--tw-text-opacity)));display:inline-block;text-decoration-line:underline}.md a:after{--tw-content:"🔗";content:var(--tw-content);font-size:.9em}.md a:visited{color:#9370db}.md img{display:block;margin:0 auto}.md table{border-collapse:collapse;border-radius:2px;overflow:hidden}.md td,.md th{--tw-border-opacity:1;border-color:hsl(var(--twc-border)/var(--twc-border-opacity,var(--tw-border-opacity)));border-style:solid;border-width:1px;padding:.25rem .5rem}.md th{--tw-bg-opacity:1;background-color:hsl(var(--twc-bg-footer)/var(--twc-bg-footer-opacity,var(--tw-bg-opacity)))}.md tr:nth-child(2n){--tw-bg-opacity:0.4;background-color:hsl(var(--twc-blur)/var(--twc-blur-opacity,var(--tw-bg-opacity)))}.md code:not([class*=language-]){--tw-border-opacity:1;--tw-bg-opacity:1;--tw-text-opacity:1;background-color:hsl(var(--twc-bg-footer)/var(--twc-bg-footer-opacity,var(--tw-bg-opacity)));border-color:hsl(var(--twc-border)/var(--twc-border-opacity,var(--tw-border-opacity)));border-radius:4px;border-style:solid;border-width:1px;color:hsl(var(--twc-main)/var(--twc-main-opacity,var(--tw-text-opacity)));margin-left:.125rem;margin-right:.125rem;padding-left:.25rem;padding-right:.25rem;width:-moz-fit-content;width:fit-content}.md code,.md code *{font-family:Consolas,Monaco,monospace;font-size:1.125rem;font-weight:400}.md .caption{--tw-translate-y:-0.6rem;--tw-text-opacity:1;color:hsl(var(--twc-text-footer)/var(--twc-text-footer-opacity,var(--tw-text-opacity)));display:flex;font-style:italic;justify-content:center;margin-bottom:-1rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));white-space:pre-wrap;width:100%}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ELYB3E19X0"></script><script>
    window.GATSBY_GTAG_PLUGIN_GA_TRACKING_ID = (
      'G-ELYB3E19X0'
    );
    window.GATSBY_GTAG_PLUGIN_ANONYMIZE = false;

    var options = {
      send_page_view: false
    };
    if (false) {
      options.anonymize_ip = true;
    }

    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    window.gtag = gtag;
    gtag('js', new Date());
    gtag('config', 'G-ELYB3E19X0', options);
  </script><link rel="icon" href="/favicon-32x32.png?v=25771371f1974bf11de79dfe5c6f9c53" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=25771371f1974bf11de79dfe5c6f9c53"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=25771371f1974bf11de79dfe5c6f9c53"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=25771371f1974bf11de79dfe5c6f9c53"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=25771371f1974bf11de79dfe5c6f9c53"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=25771371f1974bf11de79dfe5c6f9c53"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=25771371f1974bf11de79dfe5c6f9c53"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=25771371f1974bf11de79dfe5c6f9c53"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=25771371f1974bf11de79dfe5c6f9c53"/><link rel="preload" href="/fonts/PretendardVariable.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><title data-gatsby-head="true">Gatsby 블로그 제작 - 디자인 및 컴포넌트 제작 | hanse-kim.dev</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><article><header><div class="ml-24 -mb-24 mt-36 w-fit"><button class="cursor-pointer w-fit text-18-300-footer drop-shadow-transparent transition-shadow disabled:cursor-default desktop:hover:drop-shadow-text desktop:hover:text-text data-[active=true]:drop-shadow-text data-[active=true]:text-text after:block after:w-full after:h-[1px] after:bg-text after:scale-x-0 desktop:hover:after:scale-x-100 after:transition-transform after:data-[active=true]:scale-x-100">&lt; 이전 페이지로</button></div><h1 class="px-24 mt-48 mb-24 text-36-700">Gatsby 블로그 제작 - 디자인 및 컴포넌트 제작</h1><div class="pl-24 -mt-24 mb-36"><div class="text-18-400 text-text-footer">2022-02-19 · 10 min read</div><div class="flex gap-12 mt-12"><div><button class="px-8 pt-3 pb-4 transition-colors rounded-4 bg-border text-main text-14-400 desktop:hover:text-bg desktop:hover:bg-main">Figma</button></div><div><button class="px-8 pt-3 pb-4 transition-colors rounded-4 bg-border text-main text-14-400 desktop:hover:text-bg desktop:hover:bg-main">React</button></div><div><button class="px-8 pt-3 pb-4 transition-colors rounded-4 bg-border text-main text-14-400 desktop:hover:text-bg desktop:hover:bg-main">Emotion</button></div></div></div></header><style>
  /*
 Solarized Color Schemes originally by Ethan Schoonover
 http://ethanschoonover.com/solarized

 Ported for PrismJS by Hector Matos
 Website: https://krakendev.io
 Twitter Handle: https://twitter.com/allonsykraken)
*/

  /*
SOLARIZED HEX
--------- -------
base03    #002b36
base02    #073642
base01    #586e75
base00    #657b83
base0     #839496
base1     #93a1a1
base2     #eee8d5
base3     #fdf6e3
yellow    #b58900
orange    #cb4b16
red       #dc322f
magenta   #d33682
violet    #6c71c4
blue      #268bd2
cyan      #2aa198
green     #859900
*/

pre[class*=&#x27;language-&#x27;] {
  --base03: #002b36;
  --base02: #073642;
  --base01: #586e75;
  --base00: #657b83;
  --base0: #839496;
  --base1: #93a1a1;
  --base2: #eee8d5;
  --base3: #fdf6e3;
  --yellow: #b58900;
  --orange: #cb4b16;
  --red: #dc322f;
  --magenta: #d33682;
  --violet: #6c71c4;
  --blue: #268bd2;
  --cyan: #2aa198;
  --green: #859900;
}

.dark pre[class*=&#x27;language-&#x27;] {
  --base00: #93a1a1;
  --base1: #657b83;
}

  code[class*=&#x27;language-&#x27;],
  pre[class*=&#x27;language-&#x27;] {
    color: var(--base00); /* base00 */
    font-family: Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;
    font-size: 0.95em;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;

    border: none;

    line-height: 1.2;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  pre[class*=&#x27;language-&#x27;]::selection,
  pre[class*=&#x27;language-&#x27;] ::selection,
  code[class*=&#x27;language-&#x27;]::selection,
  code[class*=&#x27;language-&#x27;] ::selection {
    background: #073642; /* base02 */
  }

  /* Code blocks */
  pre[class*=&#x27;language-&#x27;] {
    padding: 1.5em 1em;
    overflow: auto;
    border-radius: 0.3em;
    position: relative;
    background-color: hsl(var(--twc-bg-footer));
    border: 1px solid hsl(var(--twc-border));
  }

  :not(pre) &gt; code[class*=&#x27;language-&#x27;] {
    background-color: #fdf6e3; /* base3 */
  }

  .gatsby-highlight pre[class*=&#x27;language-&#x27;]::after {
    background-color: hsl(var(--twc-main));
    border-radius: 0px 0px 4px 4px;
    color: hsl(var(--twc-bg));
    font-size: 0.75rem;
    font-family: SFMono-Regular, Menlo, Monaco, Consolas, &#x27;Liberation Mono&#x27;, &#x27;Courier New&#x27;,
      monospace;
    letter-spacing: 0.075em;
    line-height: 1;
    padding: 0.25rem 0.5rem;
    position: absolute;
    left: 1.5rem;
    text-align: right;
    top: 0;
  }

  
 .gatsby-highlight pre.language-javascript::after {
    content: &quot;JavaScript&quot;;
    
  }


 .gatsby-highlight pre.language-typescript::after {
    content: &quot;TypeScript&quot;;
    
  }


 .gatsby-highlight pre.language-jsx::after {
    content: &quot;JSX&quot;;
    
  }


 .gatsby-highlight pre.language-tsx::after {
    content: &quot;TSX&quot;;
    
  }


 .gatsby-highlight pre.language-shell::after {
    content: &quot;Shell&quot;;
    background-color: hsl(var(--twc-text-quote))
  }


 .gatsby-highlight pre.language-text::after {
    content: &quot;Text&quot;;
    background-color: hsl(var(--twc-text-quote))
  }


 .gatsby-highlight pre.language-css::after {
    content: &quot;CSS&quot;;
    background-color: hsl(var(--twc-text-quote))
  }


 .gatsby-highlight pre.language-html::after {
    content: &quot;HTML&quot;;
    background-color: hsl(var(--twc-text-quote))
  }


 .gatsby-highlight pre.language-markdown::after {
    content: &quot;Markdown&quot;;
    background-color: hsl(var(--twc-text-quote))
  }


 .gatsby-highlight pre.language-java::after {
    content: &quot;Java&quot;;
    
  }
;

  /* Inline code */
  :not(pre) &gt; code[class*=&#x27;language-&#x27;] {
    padding: 0.1em;
    border-radius: 0.3em;
  }

  .token.comment,
  .token.prolog,
  .token.doctype,
  .token.cdata {
    color: var(--base1); /* base1 */
  }

  .token.punctuation {
    color: #586e75; /* base01 */
  }

  .token.namespace {
    opacity: 0.7;
  }

  .token.property,
  .token.tag,
  .token.boolean,
  .token.number,
  .token.constant,
  .token.symbol,
  .token.deleted {
    color: #268bd2; /* blue */
  }

  .token.selector,
  .token.attr-name,
  .token.string,
  .token.char,
  .token.builtin,
  .token.url,
  .token.inserted {
    color: #2aa198; /* cyan */
  }

  .token.entity {
    color: var(--base00); /* base00 */
    background: #eee8d5; /* base2 */
  }

  .token.atrule,
  .token.attr-value,
  .token.keyword {
    color: #859900; /* green */
  }

  .token.function,
  .token.class-name {
    color: #b58900; /* yellow */
  }

  .token.regex,
  .token.important,
  .token.variable {
    color: #cb4b16; /* orange */
  }

  .token.important,
  .token.bold {
    font-weight: bold;
  }
  .token.italic {
    font-style: italic;
  }

  .token.entity {
    cursor: help;
  }

  pre[class*=&#x27;language-&#x27;].line-numbers {
    position: relative;
    padding-left: 3.5em;
    counter-reset: linenumber;
  }

  pre[class*=&#x27;language-&#x27;].line-numbers &gt; code {
    position: relative;
    white-space: inherit;
  }

  .line-numbers .line-numbers-rows {
    position: absolute;
    pointer-events: none;
    top: 0;
    font-size: 100%;
    left: -3.8em;
    padding: 1.5em 0 1.5em 1em;
    width: 3em; /* works for line-numbers below 1000 lines */
    letter-spacing: -1px;
    border-right: 1px solid #999;

    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  .line-numbers-rows &gt; span {
    display: block;
    counter-increment: linenumber;
  }

  .line-numbers-rows &gt; span:before {
    content: counter(linenumber);
    color: #999;
    display: block;
    padding-right: 0.8em;
    text-align: right;
  }
</style><div class="flex flex-col gap-24 px-24 pb-48 md text-20-400"><h2>디자인 제작</h2>
<p>디자인 툴은 <strong>Figma</strong>를 사용했다. Figma에는 오토 레이아웃(Auto Layout)이라는 강력한 기능이 있어 CSS의 flex box 개념에 익숙하다면 비슷한 느낌으로 작업할 수 있다!</p>
<h3>디자인 과정</h3>
<ul>
<li>전체적으로 slit gray 계열의 grayscale을 사용했고, 포인트 색상으로 파란색을 선택했다.</li>
<li>컨셉은 Notion과 brunch를 참고했다. 둘 다 무언가 작성하고 읽기 위한 서비스인 만큼 읽기 좋은, 쓰기 좋은 UI/UX를 갖추고 있다고 생각했기 때문이다.</li>
<li>'중요한 내용 = 볼드체'라는 고정관념이 있었는데 heading에 얇은 두께를 쓰는 것도 깔끔하고 괜찮아 보인다.</li>
<li>기본 텍스트도 font weight를 Regular(400)이 아닌 Light(300)로 잡고, 가장 두꺼운 두께를 Regular로 사용했다.</li>
</ul>
<p><img src=".%5Cfigma1.png" alt="figma1"></p>
<p><img src=".%5Cfigma2.png" alt="figma2"></p>
<p><img src=".%5Cfigma3.png" alt="figma3"></p>
<br />
<h2>디자인 적용</h2>
<p>스타일링에는 css-in-js 라이브러리인 Emotion을 사용했다.</p>
<p>작업에 앞서 <code>vscode-styled-components</code>라는 VSCode 플러그인을 설치했다. 아래와 같이 CSS template literal에 하이라이트와 자동완성 기능을 추가하는 플러그인이다. 전에 이런 기능을 원해서 Emotion으로 검색했을 때는 못 찾았었는데, 알고 보니 stylesd-components 라이브러리 용으로 이미 있었다. 문법이 유사하기 때문에 Emotion에서도 문제 없이 사용할 수 있다.</p>
<p><img src=".%5Cjs-styled-component.png" alt="js-styled-component"></p>
<h3>글로벌 스타일 작성</h3>
<p>우선 CSS Reset 스타일을 작성했다. CSS Reset은 주로 브라우저 간의 기본 스타일 차이를 없애기 위해, 그리고 일반적으로 필요 없다고 여겨지는 스타일들(<code>body</code>의 <code>margin</code> 등)을 미리 제거하고 시작해서 반복 작업을 줄이기 위해 사용한다. 나는 <a href="https://www.digitalocean.com/community/tutorials/css-minimal-css-reset">Minimal CSS Reset</a>과 <a href="http://necolas.github.io/normalize.css/">Normalize.css</a>에서 필요한 부분을 가져오고 수정해서 사용하고 있다.</p>
<ul>
<li>src/styles/cssReset.ts</li>
</ul>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span>css<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@emotion/react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> cssReset <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  html {
    box-sizing: border-box;
    font-size: 16px;
    font-weight: 400;
    line-height: 1.15;
    -webkit-text-size-adjust: 100%;
  }

  *,
  :after,
  :before {
    box-sizing: inherit;
  }

  body,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  ol,
  p,
  ul {
    margin: 0;
    padding: 0;
    font-weight: inherit;
  }

  main {
    display: block;
  }

  ol,
  ul {
    list-style: none;
  }

  img {
    border-style: none;
    max-width: 100%;
    height: auto;
    object-fit: cover;
  }

  hr {
    box-sizing: content-box;
    height: 0;
    overflow: visible;
  }

  a {
    background-color: transparent;
    color: inherit;
    outline: 0;
  }

  a,
  a:active,
  a:hover {
    text-decoration: none;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: inherit;
    line-height: inherit;
    margin: 0;
  }
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre></div>
<p>다음으로 스타일 변수를 작성했는데 이 부분은 어떻게 해야 할지 조금 고민이 되었다. 다크 모드까지 만드는 걸 고려하면 방법은 두 가지가 있다.</p>
<ul>
<li>Emotion theme를 사용하기</li>
<li>CSS 변수와 attribute selector를 사용하기</li>
</ul>
<p>개인적으로 이런 간단한 프로젝트에선 Emotion theme는 작성할 코드량은 늘어나는데 비해 이점은 딱히 없다고 생각해서 두 번째 방법을 택했다. 나중에 찾아보니 css-in-js에서 제공하는 theme 기능보다는 CSS 변수 사용을 권장하는 글이 꽤 보였다. 하긴 같은 동작을 할 때 CSS 네이티브 기능과 JavaScript 사용을 비교하면 일반적으로 전자의 성능이 좋으니 그럴 만도 하다.</p>
<ul>
<li><code>src/styles/variables.ts</code></li>
</ul>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span>css<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@emotion/react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> variables <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  :root {
    --color-main: #0076da;
    --color-text: #1a1e21;
    --color-text-footer: #3f4950;
    --color-bg: #ffffff;
    --color-bg-footer: #f4f5f6;
    --color-border: #e6e8ea;

    --font-weight-light: 300;
    --font-weight-demi-light: 350;
    --font-weight-regular: 400;

    --font-size-default: 16px;
    --font-size-h4: 18px;
    --font-size-h3: 20px;
    --font-size-h2: 24px;
    --font-size-h1: 28px;
    --font-size-sub-title: 28px;
    --font-size-title: 36px;
  }

  [data-theme='dark'] {
    --color-main: #2c93ea;
    --color-text: #eff3f6;
    --color-text-footer: #c6d3dc;
    --color-bg: #1a1e21;
    --color-bg-footer: #202d3a;
    --color-border: #2d3a47;
  }

  @media (max-device-width: 767px) {
    html {
      font-size: 14px;
    }

    :root {
      --font-size-default: 14px;
      --font-size-h4: 16px;
      --font-size-h3: 17.5px;
      --font-size-h2: 19px;
      --font-size-h1: 20.5px;
      --font-size-sub-title: 21px;
      --font-size-title: 24.5px;
    }
  }
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> variables<span class="token punctuation">;</span></code></pre></div>
<p>마지막으로 위 둘을 합쳐 global styles로 만들고 <code>Layout</code> 컴포넌트에 추가했다.</p>
<ul>
<li><code>src/styles/global.ts</code></li>
</ul>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span>css<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@emotion/react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>cssReset<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./cssReset'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> variables <span class="token keyword">from</span> <span class="token string">'./variables'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> globalStyles <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cssReset<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>variables<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> globalStyles<span class="token punctuation">;</span></code></pre></div>
<ul>
<li><code>src/components/layout/index.tsx</code></li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>graphql<span class="token punctuation">,</span> useStaticQuery<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'gatsby'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>SiteNode<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/types'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Header <span class="token keyword">from</span> <span class="token string">'./header'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Global<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@emotion/react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> globalStyles <span class="token keyword">from</span> <span class="token string">'src/styles/global'</span><span class="token punctuation">;</span>

<span class="token operator">...</span>

<span class="token keyword">const</span> <span class="token function-variable function">Layout</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>title<span class="token punctuation">,</span> children<span class="token punctuation">}</span><span class="token operator">:</span> Props<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useStaticQuery</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token punctuation">{</span>site<span class="token operator">:</span> SiteNode<span class="token punctuation">}</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>title <span class="token operator">||</span> data<span class="token punctuation">.</span>site<span class="token punctuation">.</span>siteMetadata<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Global</span></span> <span class="token attr-name">styles</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>globalStyles<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Header</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Layout<span class="token punctuation">;</span></code></pre></div>
<p>이제 스타일 적용을 위한 기본적인 준비가 끝났다.</p>
<h3>컴포넌트 제작</h3>
<p>컴포넌트는 크게 두 가지로 분류했다.</p>
<ul>
<li>component: 여러 view에서 사용되는 재사용 가능한 요소들.</li>
<li>view: component의 조합으로 만들어지는 화면의 UI 요소. 단독으로 의미를 갖는 최소 요소. page는 이 view만을 사용하여 구성한다.</li>
</ul>
<p><img src=".%5Ccomponent-vs-view.png" alt="component vs view"></p>
<p><em class="caption">나중에 변경이 있긴 했지만 일반적으로 이런 관점으로 개발을 진행했다</em></p>
<p>그리고 코드의 일관성을 위해 미리 규칙을 정했다.</p>
<ul>
<li>하나의 component는 <code>src/components/[컴포넌트명]</code> 꼴의 디렉터리 안에 작성한다.
<ul>
<li>Emotion styled 컴포넌트만을 사용하여 하나의 파일로 작성 가능한 경우 <code>index.ts</code>만 작성한다.</li>
<li>마크업 구조가 필요한 경우 Emotion styled 컴포넌트를 담은 <code>styled.ts</code> 파일과 마크업 구조를 담은 <code>index.tsx</code> 파일을 작성한다. 외부에서는 이 <code>index.tsx</code> 파일에서 <code>export</code>한 컴포넌트만 <code>import {} from 'src/components/[컴포넌트명]'</code> 꼴로 <code>import</code>하여 사용한다.</li>
</ul>
</li>
<li>하나의 view는 <code>src/views/[컴포넌트명]</code> 꼴의 디렉터리 안에 작성한다.
<ul>
<li>기본적으로 component와 동일한 규칙을 따른다.</li>
<li>하나의 view에만 사용하는 component의 경우 해당 view 디렉터리 안에 작성한다.</li>
</ul>
</li>
</ul>
<p>그리고 이건 개발 중간에 추가한 규칙이다.</p>
<ul>
<li><code>export default</code>를 사용하지 않는다. (단 page, template 컴포넌트는 제외)</li>
</ul>
<p>이는 <a href="https://google.github.io/styleguide/tsguide.html">Google TypeScript Style Guide</a>에서 확인한 규칙인데, 본문에선 이렇게 설명하고 있다.</p>
<blockquote>
<p>기본 내보내기(default exports)를 사용하지 마십시오. 이는 모든 가져오기(imports)가 균일한 패턴을 갖는 것을 보장합니다.</p>
<p>기본 내보내기는 표준적인 이름을 제공하지 않습니다. 따라서 잠재적인 가독성 감소를 포함해서, 개발자에게 이점이 거의 없고 유지보수를 어렵게 합니다.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">import Foo from './bar';  // 허용됨
import Bar from './bar';  // 마찬가지로 허용됨</code></pre></div>
</blockquote>
<p>한 마디로 <code>export default</code>로 내보낸 모듈은 어떤 이름으로든 <code>import</code>가 가능하고, 이것이 잠재적으로 혼란을 야기할 수 있다는 것이다. 타당한 의견이고 또 <code>export default</code>를 사용하지 않는다고 문제될 만한 일도 없다고 생각해서 이를 적극 수용했다.</p>
<p>단 프레임워크 명세상 page 컴포넌트와 template 컴포넌트는 <code>export default</code>로 내보내야 하므로 이들은 제외했다.</p>
<h3>마크다운 스타일 적용</h3>
<p><code>@mdx-js/react</code>의 <code>MDXProvider</code>를 통해 마크다운에 스타일을 적용할 수 있다. TypeScript라면 우선 타입 정의 패키지를 설치해야 한다.</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> <span class="token function">install</span> --save-dev @types/mdx-js__react</code></pre></div>
<p>그러면 이제 <code>MDXProvider</code>로 마크다운 렌더링에 사용할 컴포넌트를 커스터마이징 할 수 있다. 커스터마이징 가능한 컴포넌트와 그 방법은 <a href="https://www.gatsbyjs.com/plugins/gatsby-plugin-mdx/?=remark#mdxprovider">gatsby-plugin-mdx</a>에서 확인할 수 있다.</p>
<ul>
<li><code>src/views/postLayout/index.tsx</code></li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>MDXProvider<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mdx-js/react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>MDXRenderer<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'gatsby-plugin-mdx'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>MdxNode<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/types'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>PostHeader<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./postHeader'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>PostContentWrapper<span class="token punctuation">,</span> PostLayoutWrapper<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./styled'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  Heading1<span class="token punctuation">,</span>
  Heading2<span class="token punctuation">,</span>
  Heading3<span class="token punctuation">,</span>
  Heading4<span class="token punctuation">,</span>
  OrderedList<span class="token punctuation">,</span>
  UnorderedList<span class="token punctuation">,</span>
  Paragraph<span class="token punctuation">,</span>
  Strong<span class="token punctuation">,</span>
  Anchor<span class="token punctuation">,</span>
  Blockquote<span class="token punctuation">,</span>
  ListItem<span class="token punctuation">,</span>
  Code<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/components/markdown'</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>
  backUrl<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  post<span class="token operator">:</span> MdxNode<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> components <span class="token operator">=</span> <span class="token punctuation">{</span>
  p<span class="token operator">:</span> Paragraph<span class="token punctuation">,</span>
  h1<span class="token operator">:</span> Heading1<span class="token punctuation">,</span>
  h2<span class="token operator">:</span> Heading2<span class="token punctuation">,</span>
  h3<span class="token operator">:</span> Heading3<span class="token punctuation">,</span>
  h4<span class="token operator">:</span> Heading4<span class="token punctuation">,</span>
  ul<span class="token operator">:</span> UnorderedList<span class="token punctuation">,</span>
  ol<span class="token operator">:</span> OrderedList<span class="token punctuation">,</span>
  li<span class="token operator">:</span> ListItem<span class="token punctuation">,</span>
  strong<span class="token operator">:</span> Strong<span class="token punctuation">,</span>
  a<span class="token operator">:</span> Anchor<span class="token punctuation">,</span>
  inlineCode<span class="token operator">:</span> Code<span class="token punctuation">,</span>
  blockquote<span class="token operator">:</span> Blockquote<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">PostLayout</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>post<span class="token punctuation">,</span> backUrl<span class="token punctuation">}</span><span class="token operator">:</span> Props<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PostLayoutWrapper</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PostHeader</span></span> <span class="token attr-name">backUrl</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>backUrl <span class="token operator">||</span> <span class="token string">'/blog'</span><span class="token punctuation">}</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>post<span class="token punctuation">.</span>frontmatter<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PostContentWrapper</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MDXProvider</span></span> <span class="token attr-name">components</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>components<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MDXRenderer</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>body<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MDXRenderer</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MDXProvider</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">PostContentWrapper</span></span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">PostLayoutWrapper</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<ul>
<li>마크다운 원문</li>
</ul>
<div class="gatsby-highlight" data-language="markdown"><pre class="language-markdown"><code class="language-markdown"><span class="token title important"><span class="token punctuation">#</span> 큰 제목 1</span>

<span class="token title important"><span class="token punctuation">###</span> 작은 제목 1</span>

같이, 찬미를 못하다 싸인 우리 유소년에게서 희망의 끓는다. 장식하는 인도하겠다는 피고 철환하였는가? 인간이 그들의 사랑의 봄바람을 과실이 무엇이 약동하다.

청춘이 따뜻한 스며들어 시들어 군영과 새가 사막이다. 그들의 돋고, 대중을 할지니, 앞이 구하기 이상의 아름다우냐? 투명하되 곳으로 같이, 위하여 그들의 인간의 공자는 그들은 이것이다.

<span class="token list punctuation">1.</span> 천자만홍이 바로 석가는 풀이 크고 낙원을 하는 원대하고, 방황하여도, 것이다. 

<span class="token list punctuation">2.</span> 들어 우리의 타오르고 우리는 피가 것이다.

<span class="token list punctuation">3.</span> 트고, 그들의 타오르고 평화스러운 힘차게 뿐이다. 우리는 설산에서 그들은 피어나기 것이 남는 있는 따뜻한 피다.

<span class="token title important"><span class="token punctuation">###</span> 작은 제목 2</span>

<span class="token list punctuation">-</span> 나의 그러나 무성할 당신은 나의 라이너 계십니다. 동경과 무덤 한 언덕 나는 않은 거외다.
<span class="token list punctuation">-</span> 나의 이제 위에 불러 써 있습니다. 나는 마리아 된 아무 너무나 하나 시인의 사랑과 소녀들의 까닭입니다.

  <span class="token list punctuation">-</span> 릴케 밤이 이름자 이웃 사랑과 않은 봅니다.
  <span class="token list punctuation">-</span> 불러 때 걱정도 하나에 나의 하나 이국 있습니다.

<span class="token title important"><span class="token punctuation">###</span> 작은 제목 3</span>

<span class="token blockquote punctuation">></span> 할지라도 바로 그것을 같은 있는 할지니, 뿐이다. 든 우리의 피부가 들어 품에 얼음 있는 것이다. 이성은 것이 못할 장식하는 인도하겠다는 발휘하기 석가는 것이다.

찬미를 길을 얼마나 생생하며, 곳이 그들은 만천하의 하였으며, 찾아 황금시대다. 피가 이상 보배를 봄바람이다. 광야에서 새 꽃이 청춘에서만 든 것이다.보라, 것이 운다.</code></pre></div>
<ul>
<li>결과</li>
</ul>
<p><img src=".%5C%EB%A7%88%ED%81%AC%EB%8B%A4%EC%9A%B4-%EC%BB%A4%EC%8A%A4%ED%84%B0%EB%A7%88%EC%9D%B4%EC%A7%95.png" alt="마크다운 커스터마이징"></p>
<p>추가적으로 마크다운을 위한 라이브러리를 찾아서 적용했다. <code>.md</code> 파일을 위한 <code>gatsby-transformer-remark</code> 관련 플러그인들이 <code>.mdx</code>와도 호환되므로 그대로 사용할 수 있다. 나는 <code>gatsby-remark-images</code>와 <code>gatsby-remark-prismjs</code>를 추가했다.</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> <span class="token function">install</span> gatsby-remark-images gatsby-plugin-sharp
$ <span class="token function">npm</span> <span class="token function">install</span> gatsby-remark-prismjs prismjs</code></pre></div>
<blockquote>
<ul>
<li><code>gatsby-remark-images</code>: 마크다운에서 상대경로로 이미지를 사용하기 위한 플러그인.</li>
<li><code>gatsby-plugin-sharp</code>: 이미지 처리를 위한 low-level 플러그인. 주로 다른 이미지 관련 Gatsby 플러그인에서 요구됨.</li>
<li><code>gatsby-remark-prismjs</code>: Gatsby에서 마크다운 렌더링 시 코드블럭에 PrismJS의 코드 하이라이팅을 사용하기 위한 플러그인.</li>
<li><code>prismjs</code>: 코드 하이라이팅 라이브러리.</li>
</ul>
</blockquote>
<ul>
<li><code>gatsby-config.js</code></li>
</ul>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token operator">...</span>
    <span class="token string">'gatsby-plugin-sharp'</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">gatsby-plugin-mdx</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">.mdx</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">.md</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">gatsbyRemarkPlugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">gatsby-remark-images</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">maxWidth</span><span class="token operator">:</span> <span class="token number">720</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">gatsby-remark-prismjs</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">classPrefix</span><span class="token operator">:</span> <span class="token string">'language-'</span><span class="token punctuation">,</span>
              <span class="token literal-property property">showLineNumbers</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token literal-property property">noInlineHighlight</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<blockquote>
<p><code>gatsby-remark-prismjs</code>의 옵션 중 줄 번호를 표시하도록 바꾸었고, 인라인 하이라이트는 위에서 적용한 게 있으므로 사용하지 않도록 했다.</p>
</blockquote>
<p><code>gatsby-remark-images</code>는 설치 및 <code>gatsby-config.js</code> 설정 후 바로 적용된다. <code>gatsby-remark-prismjs</code>는 추가적으로 스타일을 불러와야 하는데 <a href="https://www.gatsbyjs.com/plugins/gatsby-remark-prismjs/?=prism">gatsby-remark-prismjs</a>에서는 <code>gatsby-browser.js</code>에 PrismJS 테마 중 하나를 <code>require</code>로 가져오게끔 적혀 있다.</p>
<p>나는 Emotion을 쓰고 있으므로 기존의 global styles에 테마 CSS 내용을 추가하는 방식을 택했다. 가져온 CSS는 <code>prismjs/themes/prism-solarizedlight.css</code>와 <code>prismjs/plugins/line-numbers/prism-line-numbers.css</code>이다.</p>
<ul>
<li><code>src/styles/prismTheme.ts</code></li>
</ul>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span>css<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@emotion/react'</span><span class="token punctuation">;</span>

<span class="token operator">...</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> prismTheme <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
... (두 CSS 파일의 내용을 카피한 후 입맛에 맞게 수정했다)
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre></div>
<ul>
<li><code>src/styles/global.ts</code></li>
</ul>
<div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span>css<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@emotion/react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>cssReset<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./cssReset'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>variables<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./variables'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>prismTheme<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./prismTheme'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> globalStyles <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  ...
  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cssReset<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>variables<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prismTheme<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
  ...
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre></div>
<ul>
<li>마크다운 원문</li>
</ul>
<div class="gatsby-highlight" data-language="markdown"><pre class="language-markdown"><code class="language-markdown"><span class="token title important"><span class="token punctuation">###</span> 작은 제목 2</span>

<span class="token code"><span class="token punctuation">```</span><span class="token code-language">typescript</span>
<span class="token code-block language-typescript"><span class="token keyword">const</span> <span class="token function-variable function">main</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello world!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="token punctuation">```</span></span>

<span class="token code"><span class="token punctuation">```</span><span class="token code-language">html</span>
<span class="token code-block language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ko<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Hello world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span>
<span class="token punctuation">```</span></span></code></pre></div>
<ul>
<li>결과</li>
</ul>
<p><img src=".%5C%EC%BD%94%EB%93%9C%EB%B8%94%EB%A1%9D-%ED%95%98%EC%9D%B4%EB%9D%BC%EC%9D%B4%ED%8C%85.png" alt="코드블록 하이라이팅"></p>
<p>이로써 포스트 페이지의 마크다운 스타일링도 마쳤다.</p>
<h3>검색 모달 구현</h3>
<p>검색 기능은 모달로 구현하기로 했다. 우선 모달의 열림/닫힘 상태 관리를 위해 ContextAPI를 사용했다.</p>
<ul>
<li><code>src/contexts/modalContext.tsx</code></li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>useContext<span class="token punctuation">,</span> useState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">ContextState</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">isOpenModal</span><span class="token operator">:</span> <span class="token punctuation">(</span>modal<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token function-variable function">onOpenModal</span><span class="token operator">:</span> <span class="token punctuation">(</span>modal<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token function-variable function">onCloseModal</span><span class="token operator">:</span> <span class="token punctuation">(</span>modal<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">ProviderProps</span> <span class="token punctuation">{</span>
  children<span class="token operator">?</span><span class="token operator">:</span> React<span class="token punctuation">.</span>ReactNode<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> ModalContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">createContext</span><span class="token generic class-name"><span class="token operator">&lt;</span>ContextState <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">ModalContextProvider</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">:</span> ProviderProps<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>modalOpenMap<span class="token punctuation">,</span> setOpen<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span>Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">>></span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">isOpenModal</span> <span class="token operator">=</span> <span class="token punctuation">(</span>modal<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> modalOpenMap<span class="token punctuation">[</span>modal<span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">onOpenModal</span> <span class="token operator">=</span> <span class="token punctuation">(</span>modal<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setOpen</span><span class="token punctuation">(</span><span class="token punctuation">(</span>modalOpenMap<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span>modalOpenMap<span class="token punctuation">,</span> <span class="token punctuation">[</span>modal<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">onCloseModal</span> <span class="token operator">=</span> <span class="token punctuation">(</span>modal<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setOpen</span><span class="token punctuation">(</span><span class="token punctuation">(</span>modalOpenMap<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span>modalOpenMap<span class="token punctuation">,</span> <span class="token punctuation">[</span>modal<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ModalContext.Provider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>isOpenModal<span class="token punctuation">,</span> onOpenModal<span class="token punctuation">,</span> onCloseModal<span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ModalContext.Provider</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useModal</span> <span class="token operator">=</span> <span class="token punctuation">(</span>modal<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>ModalContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Cannot find modal context provider.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">{</span>isOpenModal<span class="token punctuation">,</span> onOpenModal<span class="token punctuation">,</span> onCloseModal<span class="token punctuation">}</span> <span class="token operator">=</span> state<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    isOpen<span class="token operator">:</span> <span class="token function">isOpenModal</span><span class="token punctuation">(</span>modal<span class="token punctuation">)</span><span class="token punctuation">,</span>
    onOpen<span class="token operator">:</span> <span class="token function">onOpenModal</span><span class="token punctuation">(</span>modal<span class="token punctuation">)</span><span class="token punctuation">,</span>
    onClose<span class="token operator">:</span> <span class="token function">onCloseModal</span><span class="token punctuation">(</span>modal<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<blockquote>
<p><code>ModalContext</code>는 파일 내에 숨기고 <code>ModalContextProvider</code>와 <code>useModal</code>만을 <code>export</code>로 노출시켰다.</p>
<p><code>ModalContextProvider</code>는 <code>ModalContext.Provider</code>를 래핑하는 컴포넌트로 모달의 여닫힘 상태를 갖는다. 그리고 문자열을 받는 고차 함수를 <code>ModalContext.Provider</code>의 <code>value</code>로 보낸다.</p>
<p><code>useModal</code>은 <code>useContext</code>를 한번 래핑하여 사용하기 편하게 만든 훅이다. <code>useModal(모달이름)</code> 꼴로 호출하면 해당 모달의 여닫힘 상태를 확인하거나 조작할 수 있다.</p>
</blockquote>
<p>현재로서는 모달이 검색 모달 하나 뿐이지만 추후 다른 모달을 추가할 것을 대비해 상태를 단순 <code>boolean</code>이 아닌 <code>Record&#x3C;string, boolean></code>으로 두고, 키값을 통해 각 모달의 상태를 구분하여 관리할 수 있도록 만들었다.</p>
<p>이후 요전에 만든 검색 기능을 이용해 검색 모달을 구현했다.</p>
<ul>
<li><code>src/views/searchModal/index.tsx</code></li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>useCallback<span class="token punctuation">,</span> useEffect<span class="token punctuation">,</span> useRef<span class="token punctuation">,</span> useState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>graphql<span class="token punctuation">,</span> useStaticQuery<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'gatsby'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>useSearch<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/hooks/useSearch'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>MdxNode<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/types'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Overlay<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/components/overlay'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>useModal<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/contexts/modalContext'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  SearchModalInput<span class="token punctuation">,</span>
  SearchModalInputWrapper<span class="token punctuation">,</span>
  SearchModalBox<span class="token punctuation">,</span>
  SearchResultContainer<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./styled'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>CrossIcon<span class="token punctuation">,</span> IconButton<span class="token punctuation">,</span> SearchIcon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/components/icon'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>SearchResultItem<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./searchResultItem'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> query <span class="token operator">=</span> graphql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  {
    allMdx(sort: {fields: frontmatter___date, order: DESC}) {
      nodes {
        slug
        frontmatter {
          title
          tags
        }
        rawBody
      }
    }
  }
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">SearchModal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>isOpen<span class="token punctuation">,</span> onClose<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useModal</span><span class="token punctuation">(</span><span class="token string">'search'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>results<span class="token punctuation">,</span> handleSearchInputChange<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">usePostSearch</span><span class="token punctuation">(</span>isOpen<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>inputRef<span class="token punctuation">,</span> onInputResetClick<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useInputReset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useAutoFocus</span><span class="token punctuation">(</span>isOpen<span class="token punctuation">,</span> inputRef<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isOpen<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Overlay</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SearchModalBox</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=></span> e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SearchModalInputWrapper</span></span><span class="token punctuation">></span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SearchIcon</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SearchModalInput</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>inputRef<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleSearchInputChange<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IconButton</span></span> <span class="token attr-name">iconElement</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CrossIcon</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">}</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onInputResetClick<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">SearchModalInputWrapper</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>results<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SearchResultContainer</span></span><span class="token punctuation">></span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span>results<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SearchResultItem</span></span> <span class="token attr-name">searchResult</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>result<span class="token punctuation">}</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>result<span class="token punctuation">.</span>slug<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>
            <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">SearchResultContainer</span></span><span class="token punctuation">></span></span>
        <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">SearchModalBox</span></span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Overlay</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">usePostSearch</span> <span class="token operator">=</span> <span class="token punctuation">(</span>isOpen<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>allMdx<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useStaticQuery</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token punctuation">{</span>allMdx<span class="token operator">:</span> <span class="token punctuation">{</span>nodes<span class="token operator">:</span> MdxNode<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>results<span class="token punctuation">,</span> resetResults<span class="token punctuation">,</span> handleSearchInputChange<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useSearch</span><span class="token punctuation">(</span>
    allMdx<span class="token punctuation">.</span>nodes<span class="token punctuation">,</span>
    <span class="token string">'rawBody'</span><span class="token punctuation">,</span>
    <span class="token string">'slug'</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      cacheKey<span class="token operator">:</span> <span class="token string">'search-modal'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isOpen<span class="token punctuation">)</span> <span class="token function">resetResults</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>isOpen<span class="token punctuation">,</span> resetResults<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>results<span class="token punctuation">,</span> handleSearchInputChange<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">useInputReset</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> inputRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useRef</span><span class="token generic class-name"><span class="token operator">&lt;</span>HTMLInputElement<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onInputResetClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>inputRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span> inputRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>inputRef<span class="token punctuation">,</span> onInputResetClick<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">useAutoFocus</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  isOpen<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>
  inputRef<span class="token operator">:</span> React<span class="token punctuation">.</span>RefObject<span class="token operator">&lt;</span>HTMLInputElement<span class="token operator">></span>
<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isOpen <span class="token operator">&amp;&amp;</span> inputRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      inputRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>isOpen<span class="token punctuation">,</span> inputRef<span class="token punctuation">.</span>current<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>구현 중에 깨달은 문제는 이미 검색 input에서 검색을 위한 debounce 핸들러를 <code>onChange</code> 이벤트에 사용 중이라 입력값을 직접 제어하지 못한다는 점이었다. (<a href="https://ko.reactjs.org/docs/forms.html#controlled-components">참고 - 제어 컴포넌트</a>) 그래서 일단은 <code>useRef</code>를 이용해 <code>current.value</code> 값을 변경하는 다소 지저분한 방법을 사용했는데, 이 부분은 추후에 다시 손봐야 할 것 같다.</p>
<br />
<h2>후기</h2>
<p>디자인까지 적용하니 꽤 그럴 듯하게 보인다.</p>
<p>앞으로는 공부한 내용을 정리하면서 더 필요한 기능을 차차 추가해나갈 예정이다. 당초 추가할 예정이었던 요소들은 다음과 같다.</p>
<ul>
<li>댓글 기능</li>
<li>Google Analytics</li>
</ul>
<p>그리고 새로이 추가해야겠다고 생각한 요소는 다음과 같다.</p>
<ul>
<li>포스트 이전글, 다음글 링크</li>
<li>간단한 포트폴리오를 겸한 소개 페이지</li>
</ul></div></article></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2022/02-19-gatsby-blog-design/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-ac65e676c45669f8e307.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-00ecc633fb4d510e23b2.js\"],\"component---src-pages-about-tsx\":[\"/component---src-pages-about-tsx-8101b3c81ebf79932c28.js\"],\"component---src-pages-blog-tsx\":[\"/component---src-pages-blog-tsx-17904792d719efa64bb6.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-f24288b723b3879e27a6.js\"],\"component---src-pages-tags-tsx\":[\"/component---src-pages-tags-tsx-abdda339c3073a584ac7.js\"],\"component---src-templates-{post}-tsx-content-file-path-null\":[\"/component---src-templates-{post}-tsx-content-file-path-null-3e6f1d284d541a5e8c2a.js\"],\"component---src-templates-{tag}-tsx\":[\"/component---src-templates-{tag}-tsx-24bee62c6b108511ce0e.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="1cdcaa7f72578a3db44c";</script><script src="/webpack-runtime-21a98688ce451a527aed.js" async></script><script src="/framework-9260c5fc4673863b98e8.js" async></script><script src="/app-ac65e676c45669f8e307.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>